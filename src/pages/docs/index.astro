---
import Card from '../../components/Card.astro';
import Layout from '../../layouts/Layout.astro';
import { getDocsSections, getSortedDocs } from '../../lib/content';

const docs = await getSortedDocs();
const sections = getDocsSections(docs);
---

<Layout title="Team Orchestrator Docs" description="Documentation for Team Orchestrator.">
  <section class="page-header">
    <div class="container">
      <p class="eyebrow">Documentation</p>
      <h1>Docs and guides</h1>
      <p class="lead">Technical reference and onboarding material for Team Orchestrator.</p>
      <p class="meta">
        Canonical operations: <a href="/docs/docs-operations-workflow/">Docs operations workflow</a>
        {' · '}
        <a href="/docs/cycle-checklist/">Cycle checklist</a>
        {' · '}
        <a href="/docs/content-templates-and-qa/">Content templates and QA</a>
      </p>
    </div>
  </section>

  <section class="section">
    <div class="container docs-sections">
      {sections.map((section) => (
        <section>
          <h2>{section.section}</h2>
          <div class="docs-grid">
            {section.docs.map((doc) => (
              <Card>
                <h3><a href={`/docs/${doc.slug}/`}>{doc.data.title}</a></h3>
                <p>{doc.data.description}</p>
              </Card>
            ))}
          </div>
        </section>
      ))}
    </div>
  </section>
</Layout>
